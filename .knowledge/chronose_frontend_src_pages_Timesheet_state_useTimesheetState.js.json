{"is_source_file": true, "format": "JavaScript", "description": "This file defines React context and hooks related to managing the state of a timesheet feature, including date calculations, form handling, and local storage persistence.", "external_files": [], "external_methods": ["React.createContext", "React.useContext", "React.useEffect", "React.useMemo", "React.useReducer"], "published": ["TimesheetProvider", "useTimesheet"], "classes": [], "methods": [{"name": "startOfWeek", "description": "Calculates the start of the week (Monday) for a given date."}, {"name": "endOfWeek", "description": "Calculates the end of the week (Sunday 23:59:59.999) for a given date."}, {"name": "formatRange", "description": "Formats a date range into a human-readable string."}, {"name": "dayKey", "description": "Generates a date string key in ISO format for a given date."}, {"name": "reducer(state, action)", "description": "Reducer function managing state transitions for timesheet data.", "scope": "", "scopeKind": ""}, {"name": "TimesheetProvider({ children })", "description": "React context provider component for timesheet state, exposing state and actions via context.", "scope": "", "scopeKind": ""}, {"name": "useTimesheet()", "description": "Custom hook to access the timesheet context.", "scope": "", "scopeKind": ""}], "calls": ["localStorage.getItem", "localStorage.setItem", "Array.from", "Array.prototype.map", "Array.prototype.forEach", "Array.prototype.reduce", "Array.prototype.filter"], "search-terms": ["TimesheetContext", "useReducer", "initial", "weekly range", "drafts", "localStorage", "Time tracking", "React Context API", "useMemo", "state management"], "state": 2, "file_id": 24, "knowledge_revision": 49, "git_revision": "", "ctags": [{"_type": "tag", "name": "TimesheetContext", "path": "/home/kavia/workspace/code-generation/chronose-time-tracking-system-199052-199066/chronose_frontend/src/pages/Timesheet/state/useTimesheetState.js", "pattern": "/^const TimesheetContext = createContext(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "TimesheetProvider", "path": "/home/kavia/workspace/code-generation/chronose-time-tracking-system-199052-199066/chronose_frontend/src/pages/Timesheet/state/useTimesheetState.js", "pattern": "/^export function TimesheetProvider({ children }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ children })"}, {"_type": "tag", "name": "d", "path": "/home/kavia/workspace/code-generation/chronose-time-tracking-system-199052-199066/chronose_frontend/src/pages/Timesheet/state/useTimesheetState.js", "pattern": "/^  const d = new Date(date);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "day", "path": "/home/kavia/workspace/code-generation/chronose-time-tracking-system-199052-199066/chronose_frontend/src/pages/Timesheet/state/useTimesheetState.js", "pattern": "/^  const day = d.getDay(); \\/\\/ 0 Sun ... 6 Sat$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "dayKey", "path": "/home/kavia/workspace/code-generation/chronose-time-tracking-system-199052-199066/chronose_frontend/src/pages/Timesheet/state/useTimesheetState.js", "pattern": "/^const dayKey = (d) => d.toISOString().slice(0, 10);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "diff", "path": "/home/kavia/workspace/code-generation/chronose-time-tracking-system-199052-199066/chronose_frontend/src/pages/Timesheet/state/useTimesheetState.js", "pattern": "/^  const diff = (day + 6) % 7; \\/\\/ make Monday the start$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "e", "path": "/home/kavia/workspace/code-generation/chronose-time-tracking-system-199052-199066/chronose_frontend/src/pages/Timesheet/state/useTimesheetState.js", "pattern": "/^  const e = new Date(s);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "endOfWeek", "path": "/home/kavia/workspace/code-generation/chronose-time-tracking-system-199052-199066/chronose_frontend/src/pages/Timesheet/state/useTimesheetState.js", "pattern": "/^const endOfWeek = (date) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "fmt", "path": "/home/kavia/workspace/code-generation/chronose-time-tracking-system-199052-199066/chronose_frontend/src/pages/Timesheet/state/useTimesheetState.js", "pattern": "/^  const fmt = (d) =>$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "formatRange", "path": "/home/kavia/workspace/code-generation/chronose-time-tracking-system-199052-199066/chronose_frontend/src/pages/Timesheet/state/useTimesheetState.js", "pattern": "/^const formatRange = (start, end) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "initial", "path": "/home/kavia/workspace/code-generation/chronose-time-tracking-system-199052-199066/chronose_frontend/src/pages/Timesheet/state/useTimesheetState.js", "pattern": "/^const initial = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "reducer", "path": "/home/kavia/workspace/code-generation/chronose-time-tracking-system-199052-199066/chronose_frontend/src/pages/Timesheet/state/useTimesheetState.js", "pattern": "/^function reducer(state, action) {$/", "language": "JavaScript", "kind": "function", "signature": "(state, action)"}, {"_type": "tag", "name": "s", "path": "/home/kavia/workspace/code-generation/chronose-time-tracking-system-199052-199066/chronose_frontend/src/pages/Timesheet/state/useTimesheetState.js", "pattern": "/^  const s = startOfWeek(date);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "s", "path": "/home/kavia/workspace/code-generation/chronose-time-tracking-system-199052-199066/chronose_frontend/src/pages/Timesheet/state/useTimesheetState.js", "pattern": "/^  const s = startOfWeek(today);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setView", "path": "/home/kavia/workspace/code-generation/chronose-time-tracking-system-199052-199066/chronose_frontend/src/pages/Timesheet/state/useTimesheetState.js", "pattern": "/^    setView,$/", "language": "JavaScript", "kind": "field", "scope": "TimesheetProvider.value", "scopeKind": "class"}, {"_type": "tag", "name": "startOfWeek", "path": "/home/kavia/workspace/code-generation/chronose-time-tracking-system-199052-199066/chronose_frontend/src/pages/Timesheet/state/useTimesheetState.js", "pattern": "/^const startOfWeek = (date) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "storedDrafts", "path": "/home/kavia/workspace/code-generation/chronose-time-tracking-system-199052-199066/chronose_frontend/src/pages/Timesheet/state/useTimesheetState.js", "pattern": "/^  const storedDrafts = JSON.parse(localStorage.getItem(\"chronose:ts:drafts\") || \"[]\");$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "today", "path": "/home/kavia/workspace/code-generation/chronose-time-tracking-system-199052-199066/chronose_frontend/src/pages/Timesheet/state/useTimesheetState.js", "pattern": "/^  const today = new Date();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "useTimesheet", "path": "/home/kavia/workspace/code-generation/chronose-time-tracking-system-199052-199066/chronose_frontend/src/pages/Timesheet/state/useTimesheetState.js", "pattern": "/^export function useTimesheet() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "value", "path": "/home/kavia/workspace/code-generation/chronose-time-tracking-system-199052-199066/chronose_frontend/src/pages/Timesheet/state/useTimesheetState.js", "pattern": "/^  const value = {$/", "language": "JavaScript", "kind": "class", "scope": "TimesheetProvider", "scopeKind": "class"}, {"_type": "tag", "name": "value", "path": "/home/kavia/workspace/code-generation/chronose-time-tracking-system-199052-199066/chronose_frontend/src/pages/Timesheet/state/useTimesheetState.js", "pattern": "/^  return <TimesheetContext.Provider value={value}>{children}<\\/TimesheetContext.Provider>;$/", "language": "JavaScript", "kind": "field", "scope": "Provider", "scopeKind": "class"}, {"_type": "tag", "name": "view", "path": "/home/kavia/workspace/code-generation/chronose-time-tracking-system-199052-199066/chronose_frontend/src/pages/Timesheet/state/useTimesheetState.js", "pattern": "/^    view: state.view,$/", "language": "JavaScript", "kind": "property", "scope": "TimesheetProvider.value", "scopeKind": "class"}], "hash": "841c49ded06e2c4c849c38afa65f8492", "format-version": 4, "code-base-name": "chronose_frontend", "filename": "chronose_frontend/src/pages/Timesheet/state/useTimesheetState.js", "fields": [{"name": "setView,", "scope": "TimesheetProvider.value", "scopeKind": "class", "description": "unavailable"}, {"name": "return <TimesheetContext.Provider value={value}>{children}<\\/TimesheetContext.Provider>;", "scope": "Provider", "scopeKind": "class", "description": "unavailable"}, {"name": "view: state.view,", "scope": "TimesheetProvider.value", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"49": ""}]}