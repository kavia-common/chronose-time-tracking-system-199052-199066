{"is_source_file": true, "format": "JavaScript", "description": "This file defines role constants and permission helper functions for role-based access control (RBAC) within a frontend application. It includes role definitions, functions to retrieve the current user role, and permission checks for viewing teams, approving, submitting timesheets, and editing entries.", "external_files": [], "external_methods": [], "published": ["ROLES", "currentUserRole", "hasAnyRole", "canViewTeam", "canApprove", "canSubmitOwnTimesheet", "canEditEntries"], "classes": [], "methods": [{"name": "currentUserRole()", "description": "Returns the current user role based on environment variables or defaults to 'employee'.", "scope": "", "scopeKind": ""}, {"name": "hasAnyRole(userRole, allowed = [])", "description": "Checks if the current user role is included in the allowed roles list.", "scope": "", "scopeKind": ""}, {"name": "canViewTeam(role = ROLES.EMPLOYEE)", "description": "Determines if a user with a given role can view team context (managers, HR, admin).", "scope": "", "scopeKind": ""}, {"name": "canApprove(role = ROLES.EMPLOYEE)", "description": "Checks if a role has permission to approve (managers and admins).", "scope": "", "scopeKind": ""}, {"name": "canSubmitOwnTimesheet(_role = ROLES.EMPLOYEE)", "description": "Returns true, indicating all roles can submit their own timesheet.", "scope": "", "scopeKind": ""}, {"name": "canEditEntries(role = ROLES.EMPLOYEE)", "description": "Checks if a role can edit entries; includes employees, managers, HR, and admin.", "scope": "", "scopeKind": ""}], "calls": ["Object.freeze", "process.env.REACT_APP_FEATURE_FLAGS", "match = fromEnv.match(/role\\s*=\\s*(employee|manager|hr|admin)/i)"], "search-terms": ["permissions", "RBAC", "roles", "role constants", "permission helpers", "currentUserRole", "role check functions"], "state": 2, "file_id": 27, "knowledge_revision": 63, "git_revision": "", "ctags": [{"_type": "tag", "name": "canApprove", "path": "/home/kavia/workspace/code-generation/chronose-time-tracking-system-199052-199066/chronose_frontend/src/lib/permissions.js", "pattern": "/^export function canApprove(role = ROLES.EMPLOYEE) {$/", "language": "JavaScript", "kind": "function", "signature": "(role = ROLES.EMPLOYEE)"}, {"_type": "tag", "name": "canEditEntries", "path": "/home/kavia/workspace/code-generation/chronose-time-tracking-system-199052-199066/chronose_frontend/src/lib/permissions.js", "pattern": "/^export function canEditEntries(role = ROLES.EMPLOYEE) {$/", "language": "JavaScript", "kind": "function", "signature": "(role = ROLES.EMPLOYEE)"}, {"_type": "tag", "name": "canSubmitOwnTimesheet", "path": "/home/kavia/workspace/code-generation/chronose-time-tracking-system-199052-199066/chronose_frontend/src/lib/permissions.js", "pattern": "/^export function canSubmitOwnTimesheet(_role = ROLES.EMPLOYEE) {$/", "language": "JavaScript", "kind": "function", "signature": "(_role = ROLES.EMPLOYEE)"}, {"_type": "tag", "name": "canViewTeam", "path": "/home/kavia/workspace/code-generation/chronose-time-tracking-system-199052-199066/chronose_frontend/src/lib/permissions.js", "pattern": "/^export function canViewTeam(role = ROLES.EMPLOYEE) {$/", "language": "JavaScript", "kind": "function", "signature": "(role = ROLES.EMPLOYEE)"}, {"_type": "tag", "name": "currentUserRole", "path": "/home/kavia/workspace/code-generation/chronose-time-tracking-system-199052-199066/chronose_frontend/src/lib/permissions.js", "pattern": "/^export function currentUserRole() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "hasAnyRole", "path": "/home/kavia/workspace/code-generation/chronose-time-tracking-system-199052-199066/chronose_frontend/src/lib/permissions.js", "pattern": "/^export function hasAnyRole(userRole, allowed = []) {$/", "language": "JavaScript", "kind": "function", "signature": "(userRole, allowed = [])"}], "hash": "97a11cb9243e0ab71a2b67d05ce3f1da", "format-version": 4, "code-base-name": "chronose_frontend", "filename": "chronose_frontend/src/lib/permissions.js", "revision_history": [{"63": ""}]}